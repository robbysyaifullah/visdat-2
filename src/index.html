<!DOCTYPE html>
<html>
    <head>

	<title>Choropleth Tutorial - Leaflet</title>

	<meta charset="utf-8" />
        <meta name="theme-color" content="#00000" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <link rel="manifest" href="/manifest.json">

	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />

        <link rel="stylesheet" href="node_modules/leaflet/dist/leaflet.css" />
        <script src="node_modules/leaflet/dist/leaflet.js"></script>


	<script>
		function switchVisible() {
            if (document.getElementById('1-Rindu')) {
				if (document.getElementById('2-Hasanah').style.display == 'block') {
                    document.getElementById('2-Hasanah').style.display = 'none';
                }
				if (document.getElementById('3-Asyik').style.display == 'block') {
                    document.getElementById('3-Asyik').style.display = 'none';
				}
				if (document.getElementById('4-2DM').style.display == 'block') {
                    document.getElementById('4-2DM').style.display = 'none';
                }
                if (document.getElementById('1-Rindu').style.display == 'none') {
                    document.getElementById('1-Rindu').style.display = 'block';
                }
                else {
                    document.getElementById('1-Rindu').style.display = 'none';
                }
            }
		}

		function switchVisible2() {
            if (document.getElementById('2-Hasanah')) {
				if (document.getElementById('1-Rindu').style.display == 'block') {
                    document.getElementById('1-Rindu').style.display = 'none';
                }
				if (document.getElementById('3-Asyik').style.display == 'block') {
                    document.getElementById('3-Asyik').style.display = 'none';
				}
				if (document.getElementById('4-2DM').style.display == 'block') {
                    document.getElementById('4-2DM').style.display = 'none';
                }
				
                if (document.getElementById('2-Hasanah').style.display == 'none') {
                    document.getElementById('2-Hasanah').style.display = 'block';
                }
                else {
                    document.getElementById('2-Hasanah').style.display = 'none';
                }
            }
		}

		function switchVisible3() {
            if (document.getElementById('3-Asyik')) {
				if (document.getElementById('1-Rindu').style.display == 'block') {
                    document.getElementById('1-Rindu').style.display = 'none';
                }
				if (document.getElementById('2-Hasanah').style.display == 'block') {
                    document.getElementById('2-Hasanah').style.display = 'none';
				}
				if (document.getElementById('4-2DM').style.display == 'block') {
                    document.getElementById('4-2DM').style.display = 'none';
                }

                if (document.getElementById('3-Asyik').style.display == 'none') {
                    document.getElementById('3-Asyik').style.display = 'block';
                }
                else {
                    document.getElementById('3-Asyik').style.display = 'none';
                }
            }
		}

		function switchVisible4() {
            if (document.getElementById('4-2DM')) {
				if (document.getElementById('1-Rindu').style.display == 'block') {
                    document.getElementById('1-Rindu').style.display = 'none';
                }
				if (document.getElementById('2-Hasanah').style.display == 'block') {
                    document.getElementById('2-Hasanah').style.display = 'none';
				}
				if (document.getElementById('3-Asyik').style.display == 'block') {
                    document.getElementById('3-Asyik').style.display = 'none';
                }

                if (document.getElementById('4-2DM').style.display == 'none') {
                    document.getElementById('4-2DM').style.display = 'block';
                }
                else {
                    document.getElementById('4-2DM').style.display = 'none';
                }
            }
		}
	</script>
	<style>

         body {
			 background-color:#DCDCDC;
             padding: 0;
             margin: 0;
         }
         html, body {
             height: 100%;
             width: 100vw;
         }
		#map {
             height: 100%;
             width: 75vw;
         }
         .info { padding: 6px 8px; font: 14px/16px Arial, Helvetica, sans-serif; background: white; background: rgba(255,255,255,0.8); box-shadow: 0 0 15px rgba(0,0,0,0.2); border-radius: 5px; } .info h4 { margin: 0 0 5px; color: #777; }
         .legend { text-align: left; line-height: 18px; color: #555; } .legend i { width: 18px; height: 18px; float: left; margin-right: 8px; opacity: 0.7; }</style>
    </head>
    <body>
		
		<div id='map' width="75%" style="margin:auto;display:block">
        
			<noscript>
				<div>
					<h1>Error: JavaScript not enabled</h1>
					<p>This page requires JavaScript. Here are the <a href="http://www.enable-javascript.com/" target="_blank">instructions how to enable JavaScript in your web browser</a>.</p>
				</div>
			</noscript>
		</div>

		<div id='profil-calon' style="margin:auto; width:75vw;display: flex; flex-direction: row;" >

			<input id="Button1" type="button" value="Rindu" onclick="switchVisible();"/>
			<input id="Button2" type="button" value="Hasanah" onclick="switchVisible2();"/>
			<input id="Button3" type="button" value="Asyik" onclick="switchVisible3();"/>
			<input id="Button4" type="button" value="2DM" onclick="switchVisible4();"/>

			<div id='1-Rindu' style="display: none;">
				<img src="data/1_Rindu.jpg" alt="">
				<h1>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit, corrupti sint adipisci quidem pariatur quae dolor ut quos veniam, quod et, repellat ipsam atque laboriosam. Assumenda culpa velit accusantium enim!</h1>
				<h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Placeat optio dolore tenetur rem consequatur id, animi molestiae consectetur necessitatibus repellat ex possimus temporibus similique non nobis dignissimos dicta neque atque.</h2>
			</div>
	
			<div id='2-Hasanah' style="display: none;">
				<img src="data/2_Hasanah.jpg" alt="">
				<h1>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit, corrupti sint adipisci quidem pariatur quae dolor ut quos veniam, quod et, repellat ipsam atque laboriosam. Assumenda culpa velit accusantium enim!</h1>
				<h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Placeat optio dolore tenetur rem consequatur id, animi molestiae consectetur necessitatibus repellat ex possimus temporibus similique non nobis dignissimos dicta neque atque.</h2>
			</div>
	
			<div id='3-Asyik' style="display: none;">
				<img src="data/3_Asyik.jpg" alt="">
				<h1>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit, corrupti sint adipisci quidem pariatur quae dolor ut quos veniam, quod et, repellat ipsam atque laboriosam. Assumenda culpa velit accusantium enim!</h1>
				<h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Placeat optio dolore tenetur rem consequatur id, animi molestiae consectetur necessitatibus repellat ex possimus temporibus similique non nobis dignissimos dicta neque atque.</h2>
			</div>
	
			<div id='4-2DM' style="display: none;">
				<img src="data/4_2DM.jpg" alt="">
				<h1>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit, corrupti sint adipisci quidem pariatur quae dolor ut quos veniam, quod et, repellat ipsam atque laboriosam. Assumenda culpa velit accusantium enim!</h1>
				<h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Placeat optio dolore tenetur rem consequatur id, animi molestiae consectetur necessitatibus repellat ex possimus temporibus similique non nobis dignissimos dicta neque atque.</h2>
			</div>

		</div>

		<div style="margin:auto; width:75vw;display: flex; flex-direction: row;">
			HELLO BRO
		</div>
		<script type="text/javascript">
         if(navigator.serviceWorker) {
             navigator.serviceWorker.register('sw.js')
                      .catch(function(err) {
                          console.error('Unable to register service worker.', err);
                      });
         }
        </script>

        <script type="text/javascript" src="us-states.js"></script>

        <script type="text/javascript">

	 var map = L.map('map').setView([-6.75, 107.75], 9)
	 map.setMaxBounds([
                    [-5, 106],
                    [-8, 110]
				]);
	map.options.minZoom = 9
	map.options.maxZoom = 10
	 L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
	     maxZoom: 18,
	     attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			  '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			  'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
	     id: 'mapbox.light'
	 }).addTo(map);


	 // control that shows state info on hover
	 var info = L.control();

	 info.onAdd = function (map) {
	     this._div = L.DomUtil.create('div', 'info');
	     this.update();
	     return this._div;
	 };

	 info.update = function (props) {
	     this._div.innerHTML = '<h4>Hasil Pilgub Per Tingkat II</h4>' +  (props ?
															'<b>' + props.name + '</b><br />' + 
															'Pemenang : ' + props.winner + '<br/>' + 
															'<img height="300px", width:"300px", src="data/'+props.name+'.svg"+'+'></img>'
			                                              : 'Hover over a district or city');
	 };

	 info.addTo(map);


	 // get color depending on population density value
	 function getColor(d) {
		return d == "2DM" ? '#4563d1' :
		    d == "Asyik"  ? '#e5922d' :
		    d == "Hasanah"  ? '#e54759' :
		    d == "Rindu"  ? '#1fc482' :
			'#FFEDA0';
	    //  return d > 400 ? '#4563d1' :
		//     d > 300  ? '#e5922d' :
		//     d > 200  ? '#e54759' :
		//     d > 100  ? '#1fc482' :
		// 	'#FFEDA0';
	 }

	 function style(feature) {
	     return {
		 weight: 2,
		 opacity: 1,
		 color: 'white',
		 dashArray: '3',
		 fillOpacity: 0.9,
		 fillColor: getColor(feature.properties.winner)
	     };
	 }

	 function highlightFeature(e) {
	     var layer = e.target;

	     layer.setStyle({
		 weight: 5,
		 color: '#666',
		 dashArray: '',
		 fillOpacity: 0.7
	     });

	     if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
		 layer.bringToFront();
	     }

	     info.update(layer.feature.properties);
	 }

	 var geojson;

	 function resetHighlight(e) {
	     geojson.resetStyle(e.target);
	     info.update();
	 }

	 function zoomToFeature(e) {
	     map.fitBounds(e.target.getBounds());
	 }

	 function onEachFeature(feature, layer) {
	     layer.on({
		 mouseover: highlightFeature,
		 mouseout: resetHighlight,
		 click: zoomToFeature
	     });
	 }

	 geojson = L.geoJson(statesData, {
	     style: style,
	     onEachFeature: onEachFeature
	 }).addTo(map);

	 map.attributionControl.addAttribution('West Java Governor Election Result &copy; <a href="https://infopemilu.kpu.go.id/pilkada2018/hasil/cepat/t1/jawa_barat">KPU</a>');


	 var legend = L.control({position: 'bottomright'});

	 legend.onAdd = function (map) {

	     var div = L.DomUtil.create('div', 'info legend'),
		//  grades = [0, 100, 200, 300, 400],
		 grades = ["Rindu", "Hasanah", "Asyik", "2DM"],
		 labels = [],
		 from, to;

	     for (var i = 0; i < grades.length; i++) {
		 from = grades[i];
		 to = grades[i + 1];

		 labels.push(
		     '<i style="background:' + getColor(from) + '"></i> ' +from 
			);
	     }

	     div.innerHTML = labels.join('<br>');
	     return div;
	 };

	 legend.addTo(map);

	
        </script>
    </body>
</html>
